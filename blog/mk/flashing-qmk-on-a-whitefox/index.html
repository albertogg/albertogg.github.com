<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="QWmLu6t80Hd6FFgS7MaFl_UMcFLXqOLwd08_u-HXzsk">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-180348489-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-180348489-1');
    </script>
    
    <meta name="description" content="My experience using, flashing, and contributing the Vanilla layout for the
WhiteFox Mechanical Keyboard to QMK.">
    <meta name="author" content="Alberto Grespan">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@albertogg">
    <meta name="twitter:title" content="Flashing QMK on a WhiteFox Mechanical Keyboard">
    <meta name="twitter:description" content="My experience using, flashing, and contributing the Vanilla layout for the
WhiteFox Mechanical Keyboard to QMK.">
    <meta name="twitter:creator" content="@albertogg">
    <meta name="twitter:image" content="https://www.gravatar.com/avatar/006ef14fba8fadd40053ecda5039deb2.png?s=250">
    <title>Flashing QMK on a WhiteFox Mechanical Keyboard &ndash; Alberto Grespan</title>
    <link href="https://fonts.googleapis.com/css?family=Merriweather:300,700,900" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="https://albertogrespan.com/site/scss/style.css">
  </head>
  <body>
    <div id="content-wrapper">
      <div class="header">
  <header class="container">
    <h1 class="name">
      <a href="https://albertogrespan.com">Alberto Grespan</a>
    </h1> 
    <ul class="menu">
      <li><a href="https://albertogrespan.com/about/">About</a></li>
      <li><a href="https://albertogrespan.com/resume/">Resume</a></li>
    </ul> 
  </header> 
</div> 

      
  <div id="post" class="post">
    <h1>Flashing QMK on a WhiteFox Mechanical Keyboard</h1>
    <div class="date">
      <p>February 5, 2020</p>
    </div> 
    <p>Awhile back I had this itch of wanting to try a different firmware for my then
recent mechanical keyboard. By that time I was also completely new to the
mechanical keyboard world. To get some new layout for the keyboard I had to jump
into a website, select my keyboard layout and start putting things together, it
was very straight forward. Some time after I started wondering if I could put a
different firmware on the keyboard. I found <a href="https://github.com/tmk/tmk_keyboard">TMK</a> and the fork with wider
adoption <a href="https://qmk.fm">QMK</a>.</p>
<h2 id="intro-to-qmk">Intro to QMK</h2>
<p>The first time I compiled <a href="https://qmk.fm">QMK</a> for the <a href="https://input.club/whitefox/">WhiteFox</a> I remember
doing things that were not documented and had to do some research here and
there, this was around late 2017&hellip; Fast forward to just a few weeks ago that I
came back to upgrade the firmware and to my surprise I&rsquo;ve found myself in a way
more mature ecosystem, good docs and some build tools like <a href="https://www.docker.com">Docker</a> and
the <a href="https://github.com/qmk/qmk_toolbox">QMK Toolbox</a> if you don&rsquo;t want to do the native install.</p>
<h2 id="using-and-flashing-the-qmk-firmware">Using and Flashing the QMK firmware</h2>
<p>I decided to go the easy way and use <a href="https://www.docker.com">Docker</a> for compiling the
firmware. For this we need <a href="https://www.docker.com">Docker</a> installed, <a href="https://git-scm.com">Git</a> and a local
clone of the <a href="https://github.com/qmk/qmk_firmware">qmk_firware</a>, also the <a href="https://github.com/qmk/qmk_toolbox">QMK Toolbox</a> if
you are not in Linux.</p>
<p>Clone the project</p>
<pre><code>git clone --recurse-submodules https://github.com/qmk/qmk_firmware.git
</code></pre>
<p>We will use the following script for compiling the firmware as we are using
<a href="https://www.docker.com">Docker</a>:</p>
<pre><code>util/docker_build.sh keyboard:keymap
</code></pre>
<p>If you look inside the <a href="https://github.com/qmk/qmk_firmware/blob/master/util/docker_build.sh">util/docker_build.sh</a> you&rsquo;ll see that it
uses the <a href="https://hub.docker.com/r/qmkfm/base_container">qmkfm/base_container</a>. Running the above command with
the <code>keyboard:keymap</code> of your preference this will output build data in a
<code>.build</code> directory and the compiled <code>.bin</code> in the root of the project.</p>
<p>Now it&rsquo;s time to open the <a href="https://github.com/qmk/qmk_toolbox">QMK Toolbox</a> open the <code>.bin</code> file put
your keyboard in DFU mode this is done by pressing the button at the bottom of
the keyboard and then pressing the flash button in the QMK Toolbox GUI.</p>
<p>I use a <a href="https://github.com/albertogg/qmk_firmware/tree/albertogg-whitefox-keymap/keyboards/whitefox/keymaps/albertogg">custom layout inside my fork</a>, and use the
following command to build:</p>
<pre><code>util/docker_build.sh whitefox:albertogg
</code></pre>
<p>Once you know all these details you are mostly good to go.</p>
<h2 id="contributing">Contributing</h2>
<p>For the <a href="https://input.club/whitefox/">WhiteFox</a> there was no Vanilla layout so I had to made my
own. Once I knew it was working I contributed back to the <a href="https://qmk.fm">QMK</a> project.
The process of adding a new layout was a bit confusing but not impossible to
solve. Here is the <a href="https://github.com/qmk/qmk_firmware/pull/8043">Pull Request</a> where one can see the
layout getting added.</p>
<h2 id="closing-words">Closing words</h2>
<p>All this process of using a custom firmware that has so many options is very
cool and useful. The community around the project is huge. I still haven&rsquo;t
messed around with mouse buttons, LED layouts, macros, and other features that I
want to test. Either way I think it&rsquo;s a fun project and I&rsquo;m eager to keep
testing <a href="https://qmk.fm">QMK</a> features.</p>

    <div class="closing">
      <div>
       By <a href="https://twitter.com/albertogg" class="twitter-follow-link">@albertogg</a>
      </div>
      <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-url="https://albertogrespan.com/blog/mk/flashing-qmk-on-a-whitefox/" data-text="Flashing QMK on a WhiteFox Mechanical Keyboard" data-via="albertogg" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div> 
  </div> 

    </div> 
    <footer id="footer">
  <div class="container">
    <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>
    <p>2012 &#151; 2020 albertogrespan.com</p>
  </div> 
</footer> 

  </body>
</html>
