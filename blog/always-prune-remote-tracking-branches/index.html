<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" Content-Encoding="gzip">
    <meta name="description" content="Always prune your remote-tracking branches with every fetch or pull with the
correct configuration. You just need Git version 1.8.5 or newer.">
    <meta name="author" content="Alberto Grespan">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="QWmLu6t80Hd6FFgS7MaFl_UMcFLXqOLwd08_u-HXzsk">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@albertogg">
    <meta name="twitter:title" content="Always prune remote-tracking branches">
    <meta name="twitter:description" content="Always prune your remote-tracking branches with every fetch or pull with the
correct configuration. You just need Git version 1.8.5 or newer.">
    <meta name="twitter:creator" content="@albertogg">
    <meta name="twitter:image:src" content="http://www.gravatar.com/avatar/006ef14fba8fadd40053ecda5039deb2.png?s=250">
    <meta name="twitter:domain" content="albertogrespan.com">
    <title>Always prune remote-tracking branches &ndash; Alberto Grespan</title>
    <link href="https://fonts.googleapis.com/css?family=Merriweather:300,700,900" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
  </head>
  <body>
    <div id="content-wrapper">
      <div class="header">
  <header class="container">
    <h1 class="name">
        <a href="http://albertogrespan.com">Alberto Grespan</a>
    </h1> 
    <ul class="menu">
        <li><a href="http://albertogrespan.com/about">About</a></li>
        <li><a href="http://albertogrespan.com/resume">Resume</a></li>
    </ul> 
  </header> 
</div> 

      
  <div id="post" class="post">
    <h1>Always prune remote-tracking branches</h1>
    <div class="date">
      <p>April 20, 2014</p>
    </div> 
    <blockquote>
<p><strong>tl;dr</strong> after version 1.8.5 of git, you can now configure it to
automatically prune remote-tracking branches with every fetch/pull.</p>
</blockquote>

<p>Before Git version 1.8.5 if you wanted to prune remote-tracking branches you
where forced to use/remember the <code>git fetch --prune</code> command, even if your
workflow didn&rsquo;t involve fetching directly with the <code>fetch</code> command. For that
reason if you find yourself pulling and then using an alias or just typing <code>git
fetch --prune</code> every once in a while, this new Git configuration is perfect for
you.</p>

<p>There are two new configuration commands that will help you achieve this
behavior (pruning) in different ways. The first command is:</p>

<pre><code>$ git config fetch.prune true
</code></pre>

<p>This command will set in your configuration file the prune flag true, so it will
prune automatically with every fetch. The default git behavior of this flag is
false. Yes, if you&rsquo;re wondering <code>git pull</code> will implicitly use this flag.</p>

<p>For the last couple of weeks I&rsquo;ve been giving this a try and it has been a dream
come true, it&rsquo;s a perfect addition to my workflow (I&rsquo;m also using the <code>rebase</code>
flag with every pull).</p>

<p>Check out this output:</p>

<pre><code>$ git pull
From github.com:albertogg/test-something
 x [deleted]         (none)     -&gt; origin/fix-bleh
 x [deleted]         (none)     -&gt; origin/fix-something
 x [deleted]         (none)     -&gt; origin/add-gravatar
remote: Counting objects: 5, done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 5 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (5/5), done.
   def27ef..5596684  master     -&gt; origin/master
First, rewinding head to replay your work on top of it...
Fast-forwarded master to 5596684fbd39d037e1a60a8b75f250d059c3e904.
</code></pre>

<p>The second command is somewhat similar to the first one, but it will only apply
to the remote repo you want <em>e.g. origin</em>.</p>

<pre><code>$ git config remote.origin.prune true
</code></pre>

<p>The results in both cases will be the same; you have to decide which one suites
you better, although if you add both configurations to your repo or system wide
the second one will overwrite the behavior of the first one, so be careful with
that.</p>

<hr />

<p>Remember, that you can make this configurations work system wide by just adding
the <code>--global</code> flag when executing the command e.g. <code>git config --global
fetch.prune true</code>.</p>

<p>Thanks for reading!</p>

    <div class="closing">
      <div>
       By <a href="https://twitter.com/albertogg" class="twitter-follow-link">@albertogg</a>
      </div>
      <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://albertogrespan.com/blog/always-prune-remote-tracking-branches/" data-text="Always prune remote-tracking branches" data-via="albertogg">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </div> 
  </div> 

    </div> 
    <footer id="footer">
  <div class="container">
    <p>This work is licensed under a <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>
    <p>2012 &#151; 2017 albertogrespan.com</p>
  </div> 
</footer> 

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-29129831-1', 'albertogrespan.com');
      ga('require', 'linkid', 'linkid.js');
      ga('send', 'pageview');
    </script>
  </body>
</html>
